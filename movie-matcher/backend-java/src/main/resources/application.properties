# Application Configuration
quarkus.application.name=movie-matcher-backend

# HTTP Configuration
quarkus.http.port=3000
quarkus.http.host=0.0.0.0

# CORS Configuration
quarkus.http.cors=true
quarkus.http.cors.origins=*
quarkus.http.cors.methods=GET,POST,PUT,OPTIONS
quarkus.http.cors.headers=Content-Type

# Logging Configuration
quarkus.log.level=INFO
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n
quarkus.log.console.enable=true

# REST Client Configuration for OMDB API
quarkus.rest-client.omdb-api.url=https://www.omdbapi.com
quarkus.rest-client.omdb-api.scope=jakarta.inject.Singleton

# OMDB API Key
omdb.api.key=${OMDB_API_KEY:a84837a9}

# Database Configuration
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=${DB_USERNAME:postgres}
quarkus.datasource.password=${DB_PASSWORD:postgres}
quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://localhost:5432/movie_matcher}
quarkus.datasource.jdbc.max-size=20
quarkus.datasource.jdbc.min-size=5

# Hibernate Configuration
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=false
quarkus.hibernate-orm.sql-load-script=no-file

# Liquibase Configuration
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.change-log=db/changeLog.xml

# WebSocket Configuration
quarkus.websocket.max-frame-size=1048576

# Health Check Configuration
quarkus.smallrye-health.root-path=/q/health

# Metrics Configuration
quarkus.micrometer.export.prometheus.path=/q/metrics

# Dev Mode Configuration
%dev.quarkus.log.level=DEBUG
%dev.quarkus.log.category."com.moviematcher".level=DEBUG
%dev.quarkus.hibernate-orm.log.sql=true
%dev.quarkus.hibernate-orm.log.format-sql=true
%dev.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://localhost:5432/movie_matcher_dev}

# Test Mode Configuration
%test.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/movie_matcher_test
%test.quarkus.hibernate-orm.database.generation=drop-and-create
%test.quarkus.liquibase.migrate-at-start=false

# Production Configuration
%prod.quarkus.log.level=INFO
%prod.quarkus.log.console.json=true
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://localhost:5432/movie_matcher}
%prod.quarkus.hibernate-orm.log.sql=false
